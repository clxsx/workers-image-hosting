import{_ as g,W as f,L as w,a as k,r as d,o as r,c as u,d as m,w as c,g as v,v as b,e as s,h as x,b as p,T as C,i as V,t as q,F as W,f as B,V as L}from"./_plugin-vue_export-helper.9fcc87af.js";import"https://cdn.jsdelivr.net/npm/viewerjs@1.11.1/dist/viewer.min.js";const T={data(){return{list:[],auth:!0,pass:"tanginamo",breakpoints:{1200:{rowPerView:4},800:{rowPerView:3},500:{rowPerView:2}}}},methods:{query(){this.start=!1,fetch(`/query?pass=${this.pass}`,{method:"GET"}).then(t=>{if(t.ok)return t.json();throw t}).then(t=>{for(let e=0;e<t.keys.length;e++)this.list.push(t.keys[e]);this.list.sort((e,l)=>(this.auth=!1,l.metadata.date-e.metadata.date))}).catch(t=>{alert("Wrong password")})},display(t){new Viewer(document.getElementById("images")).show()},doCopy(t){this.$copyText(`${window.location.origin}/api/img/`+this.list[t].name).then(()=>{mdui.alert("Copied successfully")},()=>{mdui.alert("Failed")})}},components:{Waterfall:f,LazyImg:w,Loading:k}},I={key:0,class:"mdui-textfield mdui-textfield-floating-label center",style:{top:"30%"}},P=s("label",{class:"mdui-textfield-label"},"PASSWORD",-1),z={class:"mdui-card"},D={class:"mdui-card-media"},E={class:"mdui-card-media-covered"},F={class:"mdui-card-primary"},N={class:"mdui-card-primary-title"},S={class:"mdui-card-actions"},A=["onClick"];function G(t,e,l,j,o,a){const y=d("LazyImg"),_=d("Waterfall");return r(),u(W,null,[m(C,{name:"loading"},{default:c(()=>[o.auth?(r(),u("div",I,[P,v(s("input",{class:"mdui-textfield-input","onUpdate:modelValue":e[0]||(e[0]=i=>o.pass=i),type:"password",onKeyup:e[1]||(e[1]=x((...i)=>a.query&&a.query(...i),["enter"]))},null,544),[[b,o.pass]]),s("button",{class:"mdui-btn mdui-btn-raised mdui-color-indigo mdui-text-color-white",style:{"margin-top":"10px"},onClick:e[2]||(e[2]=(...i)=>a.query&&a.query(...i))},"Generate")])):p("",!0)]),_:1}),o.auth?p("",!0):(r(),V(_,{key:0,list:this.list,breakpoints:o.breakpoints,id:"images"},{item:c(({item:i,url:M,index:h})=>[s("div",z,[s("div",D,[m(y,{url:"/api/img/"+i.name,onClick:e[3]||(e[3]=n=>a.display(n.target))},null,8,["url"]),s("div",E,[s("div",F,[s("div",N,q(i.name),1)])])]),s("div",S,[s("button",{class:"mdui-btn mdui-ripple mdui-color-indigo mdui-text-color-white",onClick:n=>a.doCopy(h)},"Copy",8,A)])])]),_:1},8,["list","breakpoints"]))],64)}const K=g(T,[["render",G]]);B(K).use(L).mount("#app");
